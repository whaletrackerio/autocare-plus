<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#050816">
<title>AutoCare+ ‚Äî Entretien intelligent</title>

<style>
:root{
  --bg:#050816;
  --card:#0f172a;
  --border:#1f2937;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#22c55e;
  --accent2:#a855f7;
  --warn:#f59e0b;
  --bad:#ef4444;
  --radius:18px;
  --shadow:0 18px 45px rgba(0,0,0,.55);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}

body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 20% -10%, rgba(34,197,94,.20), transparent 60%),
    radial-gradient(800px 520px at 85% 0%, rgba(168,85,247,.20), transparent 60%),
    linear-gradient(180deg,#020617,var(--bg));
  overflow-x:hidden;
}

/* ‚úÖ Ambiance lat√©rale premium (sans dessins) */
body::before,
body::after{
  content:"";
  position:fixed;
  top:0;
  bottom:0;
  width:420px;
  pointer-events:none;
  z-index:0;
  filter: blur(120px);
  opacity:.35;
}
/* Lueur verte (voiture) */
body::before{
  left:-120px;
  background:radial-gradient(circle at 30% 50%, rgba(34,197,94,.45), transparent 60%);
}
/* Lueur violette (moto) */
body::after{
  right:-120px;
  background:radial-gradient(circle at 70% 50%, rgba(168,85,247,.45), transparent 60%);
}
/* Mobile : plus discret */
@media(max-width:900px){
  body::before, body::after{opacity:.18;}
}

/* Header sticky */
header{
  position:sticky;top:0;z-index:10;
  background:rgba(2,6,23,.82);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(31,41,55,.85);
  padding:14px 14px 12px;
}
header h1{
  font-size:22px;
  font-weight:950;
  letter-spacing:.2px;
}
header p{
  font-size:12px;
  color:var(--muted);
  margin-top:4px;
}

/* Contenu au-dessus du d√©cor */
.wrap{position:relative;z-index:1;max-width:560px;margin:0 auto;padding:16px 14px 70px}

.card{
  background:rgba(15,23,42,.88);
  border:1px solid rgba(31,41,55,.92);
  border-radius:var(--radius);
  padding:16px;
  margin-bottom:16px;
  box-shadow:var(--shadow);
}

label{font-size:12px;color:var(--muted);display:block;margin-top:12px}
input,select{
  width:100%;
  margin-top:6px;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(31,41,55,.95);
  background:#020617;
  color:var(--text);
  outline:none;
}
input:focus,select:focus{
  border-color:rgba(34,197,94,.6);
  box-shadow:0 0 0 3px rgba(34,197,94,.12);
}

button{
  width:100%;
  margin-top:16px;
  padding:14px;
  border-radius:999px;
  border:none;
  background:linear-gradient(120deg,#22c55e,#16a34a);
  color:#022c22;
  font-weight:950;
  cursor:pointer;
}
button.secondary{
  background:rgba(148,163,184,.10);
  color:var(--text);
  border:1px solid rgba(148,163,184,.22);
}

.result{
  margin-top:14px;
  padding:14px;
  border-radius:16px;
  background:rgba(2,6,23,.55);
  border:1px solid rgba(31,41,55,.88);
  line-height:1.55;
}

.kpi{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 0;
  border-bottom:1px solid rgba(31,41,55,.6);
}
.kpi:last-child{border-bottom:none}
.kpi .left{display:flex;align-items:center;gap:10px;min-width:0}
.icon{
  width:28px;height:28px;border-radius:10px;
  display:grid;place-items:center;
  background:rgba(148,163,184,.10);
  border:1px solid rgba(148,163,184,.18);
}
.icon.good{background:rgba(34,197,94,.12);border-color:rgba(34,197,94,.28)}
.icon.warn{background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.28)}
.icon.bad{background:rgba(239,68,68,.12);border-color:rgba(239,68,68,.28)}
.kpi .name{color:var(--text);font-weight:900}
.kpi .sub{color:var(--muted);font-size:11px;margin-top:2px}
.kpi .right{font-weight:950;white-space:nowrap}

.tag{
  display:inline-block;
  margin-top:10px;
  padding:7px 10px;
  border-radius:999px;
  font-size:11px;
  font-weight:950;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(148,163,184,.10);
}
.tag.good{border-color:rgba(34,197,94,.28);background:rgba(34,197,94,.12);color:var(--accent)}
.tag.warn{border-color:rgba(245,158,11,.28);background:rgba(245,158,11,.12);color:var(--warn)}
.tag.bad{border-color:rgba(239,68,68,.28);background:rgba(239,68,68,.12);color:var(--bad)}

.history-item{
  border-bottom:1px solid rgba(31,41,55,.65);
  padding:10px 0;
  font-size:12px;
}
.history-item:last-child{border-bottom:none}
.muted{color:var(--muted)}

footer{
  text-align:center;
  font-size:11px;
  color:var(--muted);
  margin:18px 0 0;
}
</style>
</head>

<body>

<header>
  <h1>AutoCare+</h1>
  <p>Entretien intelligent ‚Äî voiture & moto</p>
</header>

<div class="wrap">

  <div class="card">
    <label>Type de v√©hicule</label>
    <select id="vehicle">
      <option value="car">Voiture</option>
      <option value="bike">Moto</option>
    </select>

    <label>Type d‚Äôusage</label>
    <select id="usage">
      <option value="city">Ville</option>
      <option value="mixed" selected>Mixte</option>
      <option value="road">Route</option>
    </select>

    <label>Kilom√©trage actuel</label>
    <input id="kmNow" type="number" placeholder="ex: 72 500">

    <label>Derni√®re vidange (km)</label>
    <input id="kmOil" type="number" placeholder="ex: 65 000">

    <label>Dernier contr√¥le freins (km)</label>
    <input id="kmBrakes" type="number" placeholder="ex: 60 000">

    <label>Dernier contr√¥le pneus (km)</label>
    <input id="kmTires" type="number" placeholder="ex: 58 000">

    <button onclick="calculate()">Calculer l‚Äôentretien</button>
    <button class="secondary" onclick="saveHistory()">Ajouter √† l‚Äôhistorique</button>

    <div id="output"></div>
  </div>

  <div class="card">
    <b style="font-weight:950">Historique</b>
    <div id="history" style="margin-top:10px"></div>
  </div>

  <footer>
    ¬© 2025 AutoCare+ ‚Äî Premi√®re publication publique : D√©cembre 2025<br>
    Donn√©es indicatives ‚Ä¢ Aucun compte requis
  </footer>

</div>

<script>
function factorUsage(u){
  if(u==="city") return 0.8;
  if(u==="road") return 1.2;
  return 1;
}
function base(vehicle){
  if(vehicle==="bike"){
    return {oil:6000, brakes:8000, tires:7000};
  }
  return {oil:10000, brakes:12000, tires:10000};
}
function tagForRemaining(rem){
  if(rem <= 0) return {cls:"bad", txt:"Urgent"};
  if(rem <= 500) return {cls:"warn", txt:"Bient√¥t"};
  return {cls:"good", txt:"OK"};
}

function calculate(){
  const v = document.getElementById("vehicle").value;
  const u = document.getElementById("usage").value;

  const km = Number(document.getElementById("kmNow").value);
  const oil = Number(document.getElementById("kmOil").value);
  const br  = Number(document.getElementById("kmBrakes").value);
  const ti  = Number(document.getElementById("kmTires").value);

  if(!km || km <= 0){
    alert("Kilom√©trage actuel requis.");
    return;
  }

  const f = factorUsage(u);
  const b = base(v);

  const oilInterval = Math.round(b.oil*f);
  const brInterval  = Math.round(b.brakes*f);
  const tiInterval  = Math.round(b.tires*f);

  const oilNext = (oil||km) + oilInterval;
  const brNext  = (br||km)  + brInterval;
  const tiNext  = (ti||km)  + tiInterval;

  const remOil = oilNext - km;
  const remBr  = brNext  - km;
  const remTi  = tiNext  - km;

  const tOil = tagForRemaining(remOil);
  const tBr  = tagForRemaining(remBr);
  const tTi  = tagForRemaining(remTi);

  const fmt = (n)=>Number(n).toLocaleString("fr-FR");

  // store last calc for history
  window.__lastCalc = { v,u,km,oil,br,ti, oilNext,brNext,tiNext, remOil,remBr,remTi };

  document.getElementById("output").innerHTML = `
    <div class="result">
      <div class="kpi">
        <div class="left">
          <div class="icon ${tOil.cls}">üõ¢Ô∏è</div>
          <div style="min-width:0">
            <div class="name">Vidange</div>
            <div class="sub">Reste ~ ${fmt(remOil)} km</div>
          </div>
        </div>
        <div class="right">${fmt(oilNext)} km</div>
      </div>

      <div class="kpi">
        <div class="left">
          <div class="icon ${tBr.cls}">üõë</div>
          <div style="min-width:0">
            <div class="name">Freins (contr√¥le)</div>
            <div class="sub">Reste ~ ${fmt(remBr)} km</div>
          </div>
        </div>
        <div class="right">${fmt(brNext)} km</div>
      </div>

      <div class="kpi">
        <div class="left">
          <div class="icon ${tTi.cls}">üõû</div>
          <div style="min-width:0">
            <div class="name">Pneus (contr√¥le)</div>
            <div class="sub">Reste ~ ${fmt(remTi)} km</div>
          </div>
        </div>
        <div class="right">${fmt(tiNext)} km</div>
      </div>

      <span class="tag ${tOil.cls}">Vidange : ${tOil.txt}</span>
      <span class="tag ${tBr.cls}" style="margin-left:8px">Freins : ${tBr.txt}</span>
      <span class="tag ${tTi.cls}" style="margin-left:8px">Pneus : ${tTi.txt}</span>

      <div class="muted" style="margin-top:10px;font-size:11px">
        Astuce : en ‚ÄúVille‚Äù, l‚Äôintervalle est plus court. En ‚ÄúRoute‚Äù, il est plus long.
      </div>
    </div>
  `;
}

function saveHistory(){
  if(!window.__lastCalc){
    alert("Fais un calcul avant d‚Äôajouter √† l‚Äôhistorique.");
    return;
  }
  const h = JSON.parse(localStorage.getItem("autocare_history_clean")||"[]");
  h.unshift({
    date:new Date().toLocaleString("fr-FR"),
    data: window.__lastCalc
  });
  localStorage.setItem("autocare_history_clean", JSON.stringify(h.slice(0,30)));
  renderHistory();
}

function renderHistory(){
  const h = JSON.parse(localStorage.getItem("autocare_history_clean")||"[]");
  const box = document.getElementById("history");
  const fmt = (n)=>Number(n).toLocaleString("fr-FR");

  if(!h.length){
    box.innerHTML = "<div class='muted' style='margin-top:10px;font-size:12px'>Aucun historique pour l‚Äôinstant.</div>";
    return;
  }

  box.innerHTML = h.map(e=>{
    const d = e.data;
    const who = d.v==="bike" ? "Moto" : "Voiture";
    const use = d.u==="city" ? "Ville" : (d.u==="road" ? "Route" : "Mixte");
    return `
      <div class="history-item">
        <b>${e.date}</b><br>
        <span class="muted">${who} ‚Ä¢ ${use} ‚Ä¢ km: ${fmt(d.km)}</span><br>
        üõ¢Ô∏è Vidange: <b>${fmt(d.oilNext)} km</b> ‚Ä¢
        üõë Freins: <b>${fmt(d.brNext)} km</b> ‚Ä¢
        üõû Pneus: <b>${fmt(d.tiNext)} km</b>
      </div>
    `;
  }).join("");
}
renderHistory();
</script>

</body>
</html>
